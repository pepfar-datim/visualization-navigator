import PropTypes from 'prop-types';
import React from 'react';
import { CacheableSectionProvider } from './cacheable-section-state';
import { OfflineInterfaceProvider } from './offline-interface';

/** A context provider for all the relevant offline contexts */
export function OfflineProvider({
  offlineInterface,
  children
}) {
  // If an offline interface is not provided, or if one is provided and PWA
  // is not enabled, skip adding context providers
  if (!offlineInterface || !offlineInterface.pwaEnabled) {
    return /*#__PURE__*/React.createElement(React.Fragment, null, children);
  }

  return /*#__PURE__*/React.createElement(OfflineInterfaceProvider, {
    offlineInterface: offlineInterface
  }, /*#__PURE__*/React.createElement(CacheableSectionProvider, null, children));
}
OfflineProvider.propTypes = {
  children: PropTypes.node,
  offlineInterface: PropTypes.shape({
    pwaEnabled: PropTypes.bool
  })
};