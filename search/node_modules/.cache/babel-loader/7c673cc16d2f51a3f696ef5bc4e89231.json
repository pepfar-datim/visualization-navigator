{"ast":null,"code":"const toVisibleAlertsArray = alertsMap => Array.from(alertsMap.values());\n\nexport const makeAlertsManager = setAlerts => {\n  const alertsMap = new Map();\n  let id = 0;\n\n  const add = (alert, alertRef) => {\n    var _alertRef$current$id, _alertRef$current;\n\n    const alertId = (_alertRef$current$id = (_alertRef$current = alertRef.current) === null || _alertRef$current === void 0 ? void 0 : _alertRef$current.id) !== null && _alertRef$current$id !== void 0 ? _alertRef$current$id : ++id;\n    const alertsMapAlert = { ...alert,\n      id: alertId,\n      remove: () => {\n        alertsMap.delete(alertId);\n        alertRef.current = null;\n        setAlerts(toVisibleAlertsArray(alertsMap));\n      }\n    };\n    alertsMap.set(alertId, alertsMapAlert);\n    setAlerts(toVisibleAlertsArray(alertsMap));\n    return alertsMapAlert;\n  };\n\n  return {\n    add\n  };\n};","map":{"version":3,"names":["toVisibleAlertsArray","alertsMap","Array","from","values","makeAlertsManager","setAlerts","Map","id","add","alert","alertRef","_alertRef$current$id","_alertRef$current","alertId","current","alertsMapAlert","remove","delete","set"],"sources":["/home/jake/SRC/landing-page/node_modules/@dhis2/app-runtime/node_modules/@dhis2/app-service-alerts/build/es/makeAlertsManager.js"],"sourcesContent":["const toVisibleAlertsArray = alertsMap => Array.from(alertsMap.values());\n\nexport const makeAlertsManager = setAlerts => {\n  const alertsMap = new Map();\n  let id = 0;\n\n  const add = (alert, alertRef) => {\n    var _alertRef$current$id, _alertRef$current;\n\n    const alertId = (_alertRef$current$id = (_alertRef$current = alertRef.current) === null || _alertRef$current === void 0 ? void 0 : _alertRef$current.id) !== null && _alertRef$current$id !== void 0 ? _alertRef$current$id : ++id;\n    const alertsMapAlert = { ...alert,\n      id: alertId,\n      remove: () => {\n        alertsMap.delete(alertId);\n        alertRef.current = null;\n        setAlerts(toVisibleAlertsArray(alertsMap));\n      }\n    };\n    alertsMap.set(alertId, alertsMapAlert);\n    setAlerts(toVisibleAlertsArray(alertsMap));\n    return alertsMapAlert;\n  };\n\n  return {\n    add\n  };\n};"],"mappings":"AAAA,MAAMA,oBAAoB,GAAGC,SAAS,IAAIC,KAAK,CAACC,IAAN,CAAWF,SAAS,CAACG,MAAV,EAAX,CAA1C;;AAEA,OAAO,MAAMC,iBAAiB,GAAGC,SAAS,IAAI;EAC5C,MAAML,SAAS,GAAG,IAAIM,GAAJ,EAAlB;EACA,IAAIC,EAAE,GAAG,CAAT;;EAEA,MAAMC,GAAG,GAAG,CAACC,KAAD,EAAQC,QAAR,KAAqB;IAC/B,IAAIC,oBAAJ,EAA0BC,iBAA1B;;IAEA,MAAMC,OAAO,GAAG,CAACF,oBAAoB,GAAG,CAACC,iBAAiB,GAAGF,QAAQ,CAACI,OAA9B,MAA2C,IAA3C,IAAmDF,iBAAiB,KAAK,KAAK,CAA9E,GAAkF,KAAK,CAAvF,GAA2FA,iBAAiB,CAACL,EAArI,MAA6I,IAA7I,IAAqJI,oBAAoB,KAAK,KAAK,CAAnL,GAAuLA,oBAAvL,GAA8M,EAAEJ,EAAhO;IACA,MAAMQ,cAAc,GAAG,EAAE,GAAGN,KAAL;MACrBF,EAAE,EAAEM,OADiB;MAErBG,MAAM,EAAE,MAAM;QACZhB,SAAS,CAACiB,MAAV,CAAiBJ,OAAjB;QACAH,QAAQ,CAACI,OAAT,GAAmB,IAAnB;QACAT,SAAS,CAACN,oBAAoB,CAACC,SAAD,CAArB,CAAT;MACD;IANoB,CAAvB;IAQAA,SAAS,CAACkB,GAAV,CAAcL,OAAd,EAAuBE,cAAvB;IACAV,SAAS,CAACN,oBAAoB,CAACC,SAAD,CAArB,CAAT;IACA,OAAOe,cAAP;EACD,CAfD;;EAiBA,OAAO;IACLP;EADK,CAAP;AAGD,CAxBM"},"metadata":{},"sourceType":"module"}