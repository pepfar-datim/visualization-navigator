import { render } from '@testing-library/react';
import React from 'react';
import { DataEngine } from '../../engine';
import { RestAPILink } from '../../links';
import { DataContext } from '../context/DataContext';
import { DataProvider } from './DataProvider';
describe('DataProvider', () => {
  it('Should pass a new engine and RestAPILink to consumers', () => {
    const renderFunction = jest.fn();
    render( /*#__PURE__*/React.createElement(DataProvider, {
      baseUrl: "test",
      apiVersion: 42
    }, /*#__PURE__*/React.createElement(DataContext.Consumer, null, renderFunction)));
    expect(renderFunction).toHaveBeenCalled();
    const context = renderFunction.mock.calls.pop()[0];
    expect(context).not.toBeUndefined();
    expect(context.engine).toBeInstanceOf(DataEngine);
    expect(context.engine.link).toBeInstanceOf(RestAPILink);
  });
});