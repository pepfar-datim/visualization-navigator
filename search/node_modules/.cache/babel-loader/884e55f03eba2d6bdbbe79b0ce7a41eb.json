{"ast":null,"code":"import _JSXStyle from \"styled-jsx/style\";\nimport { useConfig, useOnlineStatus } from '@dhis2/app-runtime';\nimport cx from 'classnames';\nimport moment from 'moment';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport i18n from './locales/index.js';\nimport styles from './online-status.styles.js';\n\nconst useOnlineStatusInfo = _ref => {\n  let {\n    online,\n    lastOnline\n  } = _ref;\n  const {\n    headerbar\n  } = useConfig();\n\n  if ((headerbar === null || headerbar === void 0 ? void 0 : headerbar.onlineStatusInfo) === 'LAST_ONLINE' && !online && lastOnline) {\n    return i18n.t('Last online {{relativeTime}}', {\n      relativeTime: moment(lastOnline).fromNow()\n    });\n  } // todo: in the future, support 'CUSTOM' option\n\n\n  return null;\n};\n/** A badge to display online/offline status in the header bar */\n\n\nexport function OnlineStatus(_ref2) {\n  let {\n    dense\n  } = _ref2;\n  const {\n    online,\n    lastOnline\n  } = useOnlineStatus();\n  const info = useOnlineStatusInfo({\n    online,\n    lastOnline\n  });\n  const displayStatus = online ? i18n.t('Online') : i18n.t('Offline');\n  return /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": \"headerbar-online-status\",\n    className: \"jsx-\".concat(styles.__hash) + \" \" + (cx('container', dense ? 'bar' : 'badge') || \"\")\n  }, info && !dense && /*#__PURE__*/React.createElement(\"span\", {\n    className: \"jsx-\".concat(styles.__hash) + \" \" + \"info unselectable\"\n  }, info), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"jsx-\".concat(styles.__hash) + \" \" + (cx('icon', online ? 'online' : 'offline') || \"\")\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"jsx-\".concat(styles.__hash) + \" \" + \"label unselectable\"\n  }, displayStatus), info && dense && /*#__PURE__*/React.createElement(\"span\", {\n    className: \"jsx-\".concat(styles.__hash) + \" \" + \"info-dense unselectable\"\n  }, info), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: styles.__hash\n  }, styles));\n}\nOnlineStatus.propTypes = {\n  /** If true, displays as a sub-bar instead of a badge */\n  dense: PropTypes.bool\n};","map":{"version":3,"names":["_JSXStyle","useConfig","useOnlineStatus","cx","moment","PropTypes","React","i18n","styles","useOnlineStatusInfo","_ref","online","lastOnline","headerbar","onlineStatusInfo","t","relativeTime","fromNow","OnlineStatus","_ref2","dense","info","displayStatus","createElement","className","concat","__hash","id","propTypes","bool"],"sources":["/home/jake/SRC/visualization-navigator-ts/node_modules/@dhis2-ui/header-bar/build/es/online-status.js"],"sourcesContent":["import _JSXStyle from \"styled-jsx/style\";\nimport { useConfig, useOnlineStatus } from '@dhis2/app-runtime';\nimport cx from 'classnames';\nimport moment from 'moment';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport i18n from './locales/index.js';\nimport styles from './online-status.styles.js';\n\nconst useOnlineStatusInfo = _ref => {\n  let {\n    online,\n    lastOnline\n  } = _ref;\n  const {\n    headerbar\n  } = useConfig();\n\n  if ((headerbar === null || headerbar === void 0 ? void 0 : headerbar.onlineStatusInfo) === 'LAST_ONLINE' && !online && lastOnline) {\n    return i18n.t('Last online {{relativeTime}}', {\n      relativeTime: moment(lastOnline).fromNow()\n    });\n  } // todo: in the future, support 'CUSTOM' option\n\n\n  return null;\n};\n/** A badge to display online/offline status in the header bar */\n\n\nexport function OnlineStatus(_ref2) {\n  let {\n    dense\n  } = _ref2;\n  const {\n    online,\n    lastOnline\n  } = useOnlineStatus();\n  const info = useOnlineStatusInfo({\n    online,\n    lastOnline\n  });\n  const displayStatus = online ? i18n.t('Online') : i18n.t('Offline');\n  return /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": \"headerbar-online-status\",\n    className: \"jsx-\".concat(styles.__hash) + \" \" + (cx('container', dense ? 'bar' : 'badge') || \"\")\n  }, info && !dense && /*#__PURE__*/React.createElement(\"span\", {\n    className: \"jsx-\".concat(styles.__hash) + \" \" + \"info unselectable\"\n  }, info), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"jsx-\".concat(styles.__hash) + \" \" + (cx('icon', online ? 'online' : 'offline') || \"\")\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"jsx-\".concat(styles.__hash) + \" \" + \"label unselectable\"\n  }, displayStatus), info && dense && /*#__PURE__*/React.createElement(\"span\", {\n    className: \"jsx-\".concat(styles.__hash) + \" \" + \"info-dense unselectable\"\n  }, info), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: styles.__hash\n  }, styles));\n}\nOnlineStatus.propTypes = {\n  /** If true, displays as a sub-bar instead of a badge */\n  dense: PropTypes.bool\n};"],"mappings":"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"},"metadata":{},"sourceType":"module"}