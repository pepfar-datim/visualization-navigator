import React from 'react';
import { QueryClient, QueryClientProvider } from 'react-query';
import { DataEngine } from '../../engine';
import { CustomDataLink } from '../../links';
import { DataContext } from '../context/DataContext';
import { queryClientOptions as queryClientDefaults } from './DataProvider';
export const CustomDataProvider = ({
  children,
  data,
  options,
  queryClientOptions = queryClientDefaults
}) => {
  const link = new CustomDataLink(data, options);
  const engine = new DataEngine(link);
  const queryClient = new QueryClient(queryClientOptions);
  const context = {
    engine
  };
  return /*#__PURE__*/React.createElement(QueryClientProvider, {
    client: queryClient
  }, /*#__PURE__*/React.createElement(DataContext.Provider, {
    value: context
  }, children));
};