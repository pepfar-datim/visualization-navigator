"use strict";

var _react = require("@testing-library/react");

var _react2 = _interopRequireDefault(require("react"));

var _engine = require("../../engine");

var _links = require("../../links");

var _DataContext = require("../context/DataContext");

var _DataProvider = require("./DataProvider");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

describe('DataProvider', () => {
  it('Should pass a new engine and RestAPILink to consumers', () => {
    const renderFunction = jest.fn();
    (0, _react.render)( /*#__PURE__*/_react2.default.createElement(_DataProvider.DataProvider, {
      baseUrl: "test",
      apiVersion: 42
    }, /*#__PURE__*/_react2.default.createElement(_DataContext.DataContext.Consumer, null, renderFunction)));
    expect(renderFunction).toHaveBeenCalled();
    const context = renderFunction.mock.calls.pop()[0];
    expect(context).not.toBeUndefined();
    expect(context.engine).toBeInstanceOf(_engine.DataEngine);
    expect(context.engine.link).toBeInstanceOf(_links.RestAPILink);
  });
});