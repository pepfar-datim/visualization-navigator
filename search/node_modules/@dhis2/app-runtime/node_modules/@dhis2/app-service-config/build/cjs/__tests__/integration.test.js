"use strict";

var _react = require("@testing-library/react");

var _react2 = _interopRequireDefault(require("react"));

var _ConfigContext = require("../ConfigContext");

var _ConfigProvider = require("../ConfigProvider");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

const mockConfig = {
  baseUrl: 'http://test.com',
  apiVersion: 42,
  serverVersion: {
    major: 2,
    minor: 35,
    patch: undefined,
    tag: 'SNAPSHOT'
  },
  systemInfo: {
    contextPath: 'http://localhost:3000',
    version: '2.35-SNAPSHOT'
  }
};
describe('Testing custom config provider', () => {
  it('Should render without failing', async () => {
    const consumerFunction = jest.fn(config => "".concat(config.baseUrl, ":").concat(config.apiVersion));
    const {
      getByText
    } = (0, _react.render)( /*#__PURE__*/_react2.default.createElement(_ConfigProvider.ConfigProvider, {
      config: mockConfig
    }, /*#__PURE__*/_react2.default.createElement(_ConfigContext.ConfigContext.Consumer, null, consumerFunction)));
    expect(getByText(/http:\/\/test.com:42/i)).not.toBeUndefined();
    expect(consumerFunction).toHaveBeenCalledTimes(1);
    expect(consumerFunction).toHaveBeenLastCalledWith(mockConfig);
  });
});