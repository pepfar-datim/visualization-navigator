{"ast":null,"code":"import PropTypes from 'prop-types';\nimport React, { createContext, useContext } from 'react'; // This is to prevent 'offlineInterface could be null' type-checking errors\n\nconst noopOfflineInterface = {\n  pwaEnabled: false,\n  startRecording: async () => undefined,\n  getCachedSections: async () => [],\n  removeSection: async () => false\n};\nconst OfflineInterfaceContext = /*#__PURE__*/createContext(noopOfflineInterface);\n/**\n * Receives an OfflineInterface instance as a prop (presumably from the app\n * adapter) and provides it as context for other offline tools.\n *\n * On mount, it initializes the offline interface, which (among other things)\n * checks for service worker updates and, if updates are ready, prompts the\n * user with an alert to skip waiting and reload the page to use new content.\n */\n\nexport function OfflineInterfaceProvider(_ref) {\n  let {\n    offlineInterface,\n    children\n  } = _ref;\n  return /*#__PURE__*/React.createElement(OfflineInterfaceContext.Provider, {\n    value: offlineInterface\n  }, children);\n}\nOfflineInterfaceProvider.propTypes = {\n  children: PropTypes.node,\n  offlineInterface: PropTypes.shape({\n    init: PropTypes.func\n  })\n};\nexport function useOfflineInterface() {\n  const offlineInterface = useContext(OfflineInterfaceContext);\n\n  if (offlineInterface === undefined) {\n    throw new Error('Offline interface context not found. If this app is using the app platform, make sure `pwa: { enabled: true }` is in d2.config.js. If this is not a platform app, make sure your app is wrapped with an app-runtime <Provider> or an <OfflineProvider> from app-service-offline.');\n  }\n\n  return offlineInterface;\n}","map":{"version":3,"names":["PropTypes","React","createContext","useContext","noopOfflineInterface","pwaEnabled","startRecording","undefined","getCachedSections","removeSection","OfflineInterfaceContext","OfflineInterfaceProvider","offlineInterface","children","createElement","Provider","value","propTypes","node","shape","init","func","useOfflineInterface","Error"],"sources":["/home/jake/SRC/landing-page/node_modules/@dhis2/app-runtime/node_modules/@dhis2/app-service-offline/build/es/lib/offline-interface.js"],"sourcesContent":["import PropTypes from 'prop-types';\nimport React, { createContext, useContext } from 'react';\n// This is to prevent 'offlineInterface could be null' type-checking errors\nconst noopOfflineInterface = {\n  pwaEnabled: false,\n  startRecording: async () => undefined,\n  getCachedSections: async () => [],\n  removeSection: async () => false\n};\nconst OfflineInterfaceContext = /*#__PURE__*/createContext(noopOfflineInterface);\n\n/**\n * Receives an OfflineInterface instance as a prop (presumably from the app\n * adapter) and provides it as context for other offline tools.\n *\n * On mount, it initializes the offline interface, which (among other things)\n * checks for service worker updates and, if updates are ready, prompts the\n * user with an alert to skip waiting and reload the page to use new content.\n */\nexport function OfflineInterfaceProvider({\n  offlineInterface,\n  children\n}) {\n  return /*#__PURE__*/React.createElement(OfflineInterfaceContext.Provider, {\n    value: offlineInterface\n  }, children);\n}\nOfflineInterfaceProvider.propTypes = {\n  children: PropTypes.node,\n  offlineInterface: PropTypes.shape({\n    init: PropTypes.func\n  })\n};\nexport function useOfflineInterface() {\n  const offlineInterface = useContext(OfflineInterfaceContext);\n\n  if (offlineInterface === undefined) {\n    throw new Error('Offline interface context not found. If this app is using the app platform, make sure `pwa: { enabled: true }` is in d2.config.js. If this is not a platform app, make sure your app is wrapped with an app-runtime <Provider> or an <OfflineProvider> from app-service-offline.');\n  }\n\n  return offlineInterface;\n}"],"mappings":"AAAA,OAAOA,SAAP,MAAsB,YAAtB;AACA,OAAOC,KAAP,IAAgBC,aAAhB,EAA+BC,UAA/B,QAAiD,OAAjD,C,CACA;;AACA,MAAMC,oBAAoB,GAAG;EAC3BC,UAAU,EAAE,KADe;EAE3BC,cAAc,EAAE,YAAYC,SAFD;EAG3BC,iBAAiB,EAAE,YAAY,EAHJ;EAI3BC,aAAa,EAAE,YAAY;AAJA,CAA7B;AAMA,MAAMC,uBAAuB,GAAG,aAAaR,aAAa,CAACE,oBAAD,CAA1D;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASO,wBAAT,OAGJ;EAAA,IAHsC;IACvCC,gBADuC;IAEvCC;EAFuC,CAGtC;EACD,OAAO,aAAaZ,KAAK,CAACa,aAAN,CAAoBJ,uBAAuB,CAACK,QAA5C,EAAsD;IACxEC,KAAK,EAAEJ;EADiE,CAAtD,EAEjBC,QAFiB,CAApB;AAGD;AACDF,wBAAwB,CAACM,SAAzB,GAAqC;EACnCJ,QAAQ,EAAEb,SAAS,CAACkB,IADe;EAEnCN,gBAAgB,EAAEZ,SAAS,CAACmB,KAAV,CAAgB;IAChCC,IAAI,EAAEpB,SAAS,CAACqB;EADgB,CAAhB;AAFiB,CAArC;AAMA,OAAO,SAASC,mBAAT,GAA+B;EACpC,MAAMV,gBAAgB,GAAGT,UAAU,CAACO,uBAAD,CAAnC;;EAEA,IAAIE,gBAAgB,KAAKL,SAAzB,EAAoC;IAClC,MAAM,IAAIgB,KAAJ,CAAU,kRAAV,CAAN;EACD;;EAED,OAAOX,gBAAP;AACD"},"metadata":{},"sourceType":"module"}