{"ast":null,"code":"import { FilterOperator, FilterProperty } from \"./searchFilters.type\";\nimport { defaultFilters as d } from \"../const/defaultFilters.const\";\n\nfunction getFilterValue(filterProperty, operator, searchFilters) {\n  const propertyMatcher = f => f.filterProperty === filterProperty && f.operator === operator;\n\n  if (!searchFilters.some(propertyMatcher)) return null;else return searchFilters.filter(propertyMatcher)[0].value;\n}\n\nexport function filtersToUrl(searchFilters) {\n  let favoriteName = getFilterValue(FilterProperty.name, FilterOperator.contains, searchFilters),\n      user = getFilterValue(FilterProperty.owner, FilterOperator.contains, searchFilters),\n      minViewCount = getFilterValue(FilterProperty.views, FilterOperator['>='], searchFilters),\n      maxViewCount = getFilterValue(FilterProperty.views, FilterOperator['<='], searchFilters),\n      lastViewedMinDate = getFilterValue(FilterProperty.lastViewed, FilterOperator.after, searchFilters),\n      lastViewedMaxDate = getFilterValue(FilterProperty.lastViewed, FilterOperator.before, searchFilters),\n      limitViewsMinDate = getFilterValue(FilterProperty.viewsMinDate, FilterOperator.after, searchFilters),\n      limitViewsMaxDate = getFilterValue(FilterProperty.viewsMaxDate, FilterOperator.before, searchFilters),\n      visualizationType = getFilterValue(FilterProperty.type, FilterOperator.is, searchFilters);\n  return `uid:_,\\\nfavoriteName:${favoriteName || '_'},\\\nuser:${user || '_'},\\\nvisualizationType:${visualizationType || '_'},\\\nincludeNeverViewed:1,\\\nminViewCount:${minViewCount || d.minViewCount},\\\nmaxViewCount:${maxViewCount || d.maxViewCount},\\\nlastViewedMinDate:${lastViewedMinDate || d.lastViewedMinDate},\\\nlastViewedMaxDate:${lastViewedMaxDate || d.lastViewedMaxDate},\\\nlimitViewsMinDate:${limitViewsMinDate || d.limitViewsMinDate},\\\nlimitViewsMaxDate:${limitViewsMaxDate || d.limitViewsMaxDate}`;\n}","map":{"version":3,"names":["FilterOperator","FilterProperty","defaultFilters","d","getFilterValue","filterProperty","operator","searchFilters","propertyMatcher","f","some","filter","value","filtersToUrl","favoriteName","name","contains","user","owner","minViewCount","views","maxViewCount","lastViewedMinDate","lastViewed","after","lastViewedMaxDate","before","limitViewsMinDate","viewsMinDate","limitViewsMaxDate","viewsMaxDate","visualizationType","type","is"],"sources":["/home/jake/SRC/visualization-navigator-ts/src/modules/searchFilters/types/filtersToUrl.service.ts"],"sourcesContent":["import {FilterOperator, FilterProperty, SearchFilter} from \"./searchFilters.type\";\nimport {defaultFilters as d} from \"../const/defaultFilters.const\";\n\nfunction getFilterValue(filterProperty:FilterProperty, operator: FilterOperator, searchFilters:SearchFilter[]):string|null{\n    const propertyMatcher = (f:SearchFilter)=>f.filterProperty===filterProperty&&f.operator===operator\n    if (!searchFilters.some(propertyMatcher)) return null;\n    else return searchFilters.filter(propertyMatcher)[0].value;\n}\n\nexport function filtersToUrl(searchFilters:SearchFilter[]):string{\n    let favoriteName = getFilterValue(FilterProperty.name, FilterOperator.contains, searchFilters),\n        user = getFilterValue(FilterProperty.owner, FilterOperator.contains, searchFilters),\n        minViewCount = getFilterValue(FilterProperty.views, FilterOperator['>='], searchFilters),\n        maxViewCount = getFilterValue(FilterProperty.views, FilterOperator['<='], searchFilters),\n        lastViewedMinDate = getFilterValue(FilterProperty.lastViewed, FilterOperator.after, searchFilters),\n        lastViewedMaxDate = getFilterValue(FilterProperty.lastViewed, FilterOperator.before, searchFilters),\n        limitViewsMinDate = getFilterValue(FilterProperty.viewsMinDate, FilterOperator.after, searchFilters),\n        limitViewsMaxDate = getFilterValue(FilterProperty.viewsMaxDate, FilterOperator.before, searchFilters),\n        visualizationType = getFilterValue(FilterProperty.type, FilterOperator.is, searchFilters)\n    ;\n    return `uid:_,\\\nfavoriteName:${favoriteName||'_'},\\\nuser:${user||'_'},\\\nvisualizationType:${visualizationType||'_'},\\\nincludeNeverViewed:1,\\\nminViewCount:${minViewCount||d.minViewCount},\\\nmaxViewCount:${maxViewCount||d.maxViewCount},\\\nlastViewedMinDate:${lastViewedMinDate||d.lastViewedMinDate},\\\nlastViewedMaxDate:${lastViewedMaxDate||d.lastViewedMaxDate},\\\nlimitViewsMinDate:${limitViewsMinDate||d.limitViewsMinDate},\\\nlimitViewsMaxDate:${limitViewsMaxDate||d.limitViewsMaxDate}`\n}"],"mappings":"AAAA,SAAQA,cAAR,EAAwBC,cAAxB,QAA2D,sBAA3D;AACA,SAAQC,cAAc,IAAIC,CAA1B,QAAkC,+BAAlC;;AAEA,SAASC,cAAT,CAAwBC,cAAxB,EAAuDC,QAAvD,EAAiFC,aAAjF,EAA0H;EACtH,MAAMC,eAAe,GAAIC,CAAD,IAAkBA,CAAC,CAACJ,cAAF,KAAmBA,cAAnB,IAAmCI,CAAC,CAACH,QAAF,KAAaA,QAA1F;;EACA,IAAI,CAACC,aAAa,CAACG,IAAd,CAAmBF,eAAnB,CAAL,EAA0C,OAAO,IAAP,CAA1C,KACK,OAAOD,aAAa,CAACI,MAAd,CAAqBH,eAArB,EAAsC,CAAtC,EAAyCI,KAAhD;AACR;;AAED,OAAO,SAASC,YAAT,CAAsBN,aAAtB,EAA0D;EAC7D,IAAIO,YAAY,GAAGV,cAAc,CAACH,cAAc,CAACc,IAAhB,EAAsBf,cAAc,CAACgB,QAArC,EAA+CT,aAA/C,CAAjC;EAAA,IACIU,IAAI,GAAGb,cAAc,CAACH,cAAc,CAACiB,KAAhB,EAAuBlB,cAAc,CAACgB,QAAtC,EAAgDT,aAAhD,CADzB;EAAA,IAEIY,YAAY,GAAGf,cAAc,CAACH,cAAc,CAACmB,KAAhB,EAAuBpB,cAAc,CAAC,IAAD,CAArC,EAA6CO,aAA7C,CAFjC;EAAA,IAGIc,YAAY,GAAGjB,cAAc,CAACH,cAAc,CAACmB,KAAhB,EAAuBpB,cAAc,CAAC,IAAD,CAArC,EAA6CO,aAA7C,CAHjC;EAAA,IAIIe,iBAAiB,GAAGlB,cAAc,CAACH,cAAc,CAACsB,UAAhB,EAA4BvB,cAAc,CAACwB,KAA3C,EAAkDjB,aAAlD,CAJtC;EAAA,IAKIkB,iBAAiB,GAAGrB,cAAc,CAACH,cAAc,CAACsB,UAAhB,EAA4BvB,cAAc,CAAC0B,MAA3C,EAAmDnB,aAAnD,CALtC;EAAA,IAMIoB,iBAAiB,GAAGvB,cAAc,CAACH,cAAc,CAAC2B,YAAhB,EAA8B5B,cAAc,CAACwB,KAA7C,EAAoDjB,aAApD,CANtC;EAAA,IAOIsB,iBAAiB,GAAGzB,cAAc,CAACH,cAAc,CAAC6B,YAAhB,EAA8B9B,cAAc,CAAC0B,MAA7C,EAAqDnB,aAArD,CAPtC;EAAA,IAQIwB,iBAAiB,GAAG3B,cAAc,CAACH,cAAc,CAAC+B,IAAhB,EAAsBhC,cAAc,CAACiC,EAArC,EAAyC1B,aAAzC,CARtC;EAUA,OAAQ;AACZ,eAAeO,YAAY,IAAE,GAAI;AACjC,OAAOG,IAAI,IAAE,GAAI;AACjB,oBAAoBc,iBAAiB,IAAE,GAAI;AAC3C;AACA,eAAeZ,YAAY,IAAEhB,CAAC,CAACgB,YAAa;AAC5C,eAAeE,YAAY,IAAElB,CAAC,CAACkB,YAAa;AAC5C,oBAAoBC,iBAAiB,IAAEnB,CAAC,CAACmB,iBAAkB;AAC3D,oBAAoBG,iBAAiB,IAAEtB,CAAC,CAACsB,iBAAkB;AAC3D,oBAAoBE,iBAAiB,IAAExB,CAAC,CAACwB,iBAAkB;AAC3D,oBAAoBE,iBAAiB,IAAE1B,CAAC,CAAC0B,iBAAkB,EAVvD;AAWH"},"metadata":{},"sourceType":"module"}