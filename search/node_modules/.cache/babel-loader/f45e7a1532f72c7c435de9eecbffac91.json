{"ast":null,"code":"import { useCallback } from 'react';\nimport { useDataEngine } from './useDataEngine';\nimport { useQueryExecutor } from './useQueryExecutor';\nimport { useStaticInput } from './useStaticInput';\nconst empty = {};\nexport const useDataMutation = function (mutation) {\n  let {\n    onComplete,\n    onError,\n    variables = empty,\n    lazy = true\n  } = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  const engine = useDataEngine();\n  const [theMutation] = useStaticInput(mutation, {\n    warn: true,\n    name: 'mutation'\n  });\n  const execute = useCallback(options => engine.mutate(theMutation, options), [engine, theMutation]);\n  const {\n    refetch: mutate,\n    called,\n    loading,\n    error,\n    data\n  } = useQueryExecutor({\n    execute,\n    variables,\n    singular: false,\n    immediate: !lazy,\n    onComplete,\n    onError\n  });\n  return [mutate, {\n    engine,\n    called,\n    loading,\n    error,\n    data\n  }];\n};","map":{"version":3,"names":["useCallback","useDataEngine","useQueryExecutor","useStaticInput","empty","useDataMutation","mutation","onComplete","onError","variables","lazy","engine","theMutation","warn","name","execute","options","mutate","refetch","called","loading","error","data","singular","immediate"],"sources":["/home/jake/SRC/landing-page/node_modules/@dhis2/app-runtime/node_modules/@dhis2/app-service-data/build/es/react/hooks/useDataMutation.js"],"sourcesContent":["import { useCallback } from 'react';\nimport { useDataEngine } from './useDataEngine';\nimport { useQueryExecutor } from './useQueryExecutor';\nimport { useStaticInput } from './useStaticInput';\nconst empty = {};\nexport const useDataMutation = (mutation, {\n  onComplete,\n  onError,\n  variables = empty,\n  lazy = true\n} = {}) => {\n  const engine = useDataEngine();\n  const [theMutation] = useStaticInput(mutation, {\n    warn: true,\n    name: 'mutation'\n  });\n  const execute = useCallback(options => engine.mutate(theMutation, options), [engine, theMutation]);\n  const {\n    refetch: mutate,\n    called,\n    loading,\n    error,\n    data\n  } = useQueryExecutor({\n    execute,\n    variables,\n    singular: false,\n    immediate: !lazy,\n    onComplete,\n    onError\n  });\n  return [mutate, {\n    engine,\n    called,\n    loading,\n    error,\n    data\n  }];\n};"],"mappings":"AAAA,SAASA,WAAT,QAA4B,OAA5B;AACA,SAASC,aAAT,QAA8B,iBAA9B;AACA,SAASC,gBAAT,QAAiC,oBAAjC;AACA,SAASC,cAAT,QAA+B,kBAA/B;AACA,MAAMC,KAAK,GAAG,EAAd;AACA,OAAO,MAAMC,eAAe,GAAG,UAACC,QAAD,EAKpB;EAAA,IAL+B;IACxCC,UADwC;IAExCC,OAFwC;IAGxCC,SAAS,GAAGL,KAH4B;IAIxCM,IAAI,GAAG;EAJiC,CAK/B,uEAAP,EAAO;EACT,MAAMC,MAAM,GAAGV,aAAa,EAA5B;EACA,MAAM,CAACW,WAAD,IAAgBT,cAAc,CAACG,QAAD,EAAW;IAC7CO,IAAI,EAAE,IADuC;IAE7CC,IAAI,EAAE;EAFuC,CAAX,CAApC;EAIA,MAAMC,OAAO,GAAGf,WAAW,CAACgB,OAAO,IAAIL,MAAM,CAACM,MAAP,CAAcL,WAAd,EAA2BI,OAA3B,CAAZ,EAAiD,CAACL,MAAD,EAASC,WAAT,CAAjD,CAA3B;EACA,MAAM;IACJM,OAAO,EAAED,MADL;IAEJE,MAFI;IAGJC,OAHI;IAIJC,KAJI;IAKJC;EALI,IAMFpB,gBAAgB,CAAC;IACnBa,OADmB;IAEnBN,SAFmB;IAGnBc,QAAQ,EAAE,KAHS;IAInBC,SAAS,EAAE,CAACd,IAJO;IAKnBH,UALmB;IAMnBC;EANmB,CAAD,CANpB;EAcA,OAAO,CAACS,MAAD,EAAS;IACdN,MADc;IAEdQ,MAFc;IAGdC,OAHc;IAIdC,KAJc;IAKdC;EALc,CAAT,CAAP;AAOD,CAjCM"},"metadata":{},"sourceType":"module"}