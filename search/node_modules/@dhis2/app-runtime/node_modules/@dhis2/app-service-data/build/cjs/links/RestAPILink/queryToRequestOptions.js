"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.queryToRequestOptions = void 0;

var _requestContentType = require("./queryToRequestOptions/requestContentType");

const getMethod = type => {
  switch (type) {
    case 'create':
      return 'POST';

    case 'read':
      return 'GET';

    case 'update':
    case 'json-patch':
      return 'PATCH';

    case 'replace':
      return 'PUT';

    case 'delete':
      return 'DELETE';

    default:
      throw new Error("Unknown type ".concat(type));
  }
};

const queryToRequestOptions = (type, query, signal) => {
  const contentType = (0, _requestContentType.requestContentType)(type, query);
  return {
    method: getMethod(type),
    body: (0, _requestContentType.requestBodyForContentType)(contentType, query),
    headers: (0, _requestContentType.requestHeadersForContentType)(contentType),
    signal
  };
};

exports.queryToRequestOptions = queryToRequestOptions;