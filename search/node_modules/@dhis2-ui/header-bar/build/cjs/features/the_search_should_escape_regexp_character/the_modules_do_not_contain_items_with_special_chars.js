"use strict";

var _steps = require("cypress-cucumber-preprocessor/steps");

require("../common/index.js");

(0, _steps.Given)(/no app name contains a (.*)/, character => {
  // Needs to be wrapped, otherwise for some reason the wrong char is in the scope
  cy.all(() => cy.window(), () => cy.wrap(character)).then(_ref => {
    let [win, char] = _ref;
    const {
      dataProviderData
    } = win;
    const {
      modules
    } = dataProviderData['action::menu/getModules'];
    const modulesWithSpecialChar = modules.filter(module => module.displayName.indexOf(char) !== -1);
    expect(modulesWithSpecialChar).to.have.length(0);
  });
});
(0, _steps.Then)('no results should be shown', () => {
  cy.get('[data-test="headerbar-apps-menu-list"] > a > div').should('not.exist');
});