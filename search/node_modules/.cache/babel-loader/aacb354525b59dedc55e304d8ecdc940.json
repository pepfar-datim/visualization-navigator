{"ast":null,"code":"import { SqlType, VisualizationType } from \"../types/visualization.type\";\nimport { filtersToUrl } from \"../../searchFilters/types/filtersToUrl.service\";\nimport datimApi from \"@pepfar-react-lib/datim-api\";\n\nfunction responseToModel(response) {\n  return response.listGrid.rows.map(row => ({\n    type: VisualizationType,\n    name: string,\n    views: number,\n    lastViewed: string,\n    owner: string,\n    sql: SqlType\n  }));\n}\n\nexport async function searchVisualizations(searchFilters) {\n  let fullUrl = `/sqlViews/VisNavgSrch/data?var=${filtersToUrl(searchFilters)},limit:100`;\n  let response = await datimApi.getJson(fullUrl);\n  return Promise.resolve(null);\n}","map":{"version":3,"names":["SqlType","VisualizationType","filtersToUrl","datimApi","responseToModel","response","listGrid","rows","map","row","type","name","string","views","number","lastViewed","owner","sql","searchVisualizations","searchFilters","fullUrl","getJson","Promise","resolve"],"sources":["/home/jake/SRC/visualization-navigator-ts/src/modules/searchPage/services/searchVisualizations.service.ts"],"sourcesContent":["import {ServerResponse, SqlType, Visualization, VisualizationType} from \"../types/visualization.type\";\nimport {SearchFilter} from \"../../searchFilters/types/searchFilters.type\";\nimport {filtersToUrl} from \"../../searchFilters/types/filtersToUrl.service\";\nimport datimApi from \"@pepfar-react-lib/datim-api\";\n\nfunction responseToModel(response:ServerResponse):Visualization[]{\n    return response.listGrid.rows.map(row=>({\n        type: VisualizationType,\n        name: string,\n        views: number,\n        lastViewed: string,\n        owner: string,\n        sql: SqlType\n    }))\n}\n\nexport async function searchVisualizations(searchFilters:SearchFilter[]):Promise<Visualization>{\n    let fullUrl:string = `/sqlViews/VisNavgSrch/data?var=${filtersToUrl(searchFilters)},limit:100`\n    let response:ServerResponse = await datimApi.getJson(fullUrl);\n    return Promise.resolve(null as any as Visualization);\n}"],"mappings":"AAAA,SAAwBA,OAAxB,EAAgDC,iBAAhD,QAAwE,6BAAxE;AAEA,SAAQC,YAAR,QAA2B,gDAA3B;AACA,OAAOC,QAAP,MAAqB,6BAArB;;AAEA,SAASC,eAAT,CAAyBC,QAAzB,EAAiE;EAC7D,OAAOA,QAAQ,CAACC,QAAT,CAAkBC,IAAlB,CAAuBC,GAAvB,CAA2BC,GAAG,KAAG;IACpCC,IAAI,EAAET,iBAD8B;IAEpCU,IAAI,EAAEC,MAF8B;IAGpCC,KAAK,EAAEC,MAH6B;IAIpCC,UAAU,EAAEH,MAJwB;IAKpCI,KAAK,EAAEJ,MAL6B;IAMpCK,GAAG,EAAEjB;EAN+B,CAAH,CAA9B,CAAP;AAQH;;AAED,OAAO,eAAekB,oBAAf,CAAoCC,aAApC,EAAwF;EAC3F,IAAIC,OAAc,GAAI,kCAAiClB,YAAY,CAACiB,aAAD,CAAgB,YAAnF;EACA,IAAId,QAAuB,GAAG,MAAMF,QAAQ,CAACkB,OAAT,CAAiBD,OAAjB,CAApC;EACA,OAAOE,OAAO,CAACC,OAAR,CAAgB,IAAhB,CAAP;AACH"},"metadata":{},"sourceType":"module"}