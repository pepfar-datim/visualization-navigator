{"ast":null,"code":"import _slicedToArray from \"/home/jake/SRC/visualization-navigator-ts/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport { Card } from '@dhis2-ui/card';\nimport { InputField } from '@dhis2-ui/input';\nimport { useConfig } from '@dhis2/app-runtime';\nimport { colors, theme } from '@dhis2/ui-constants';\nimport { IconApps24, IconSettings24 } from '@dhis2/ui-icons';\nimport PropTypes from 'prop-types';\nimport React, { useState, useEffect, useCallback, useRef } from 'react';\nimport { joinPath } from './join-path.js';\nimport i18n from './locales/index.js';\n/**\n * Copied from here:\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions#Escaping\n */\n\nfunction escapeRegExpCharacters(text) {\n  return text.replace(/[/.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n}\n\nfunction Search(_ref) {\n  var value = _ref.value,\n      onChange = _ref.onChange;\n\n  var _useConfig = useConfig(),\n      baseUrl = _useConfig.baseUrl;\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"jsx-4264724627\"\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"jsx-4264724627\"\n  }, /*#__PURE__*/React.createElement(InputField, {\n    value: value,\n    name: \"filter\",\n    placeholder: i18n.t('Search apps'),\n    onChange: onChange,\n    initialFocus: true\n  })), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"jsx-4264724627\"\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: joinPath(baseUrl, 'dhis-web-menu-management'),\n    className: \"jsx-4264724627\"\n  }, /*#__PURE__*/React.createElement(IconSettings24, {\n    color: colors.grey700\n  }))), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"4264724627\"\n  }, [\"div.jsx-4264724627{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-flex-wrap:nowrap;-ms-flex-wrap:nowrap;flex-wrap:nowrap;height:52px;margin:8px;}\", \"span.jsx-4264724627{-webkit-flex:1 100%;-ms-flex:1 100%;flex:1 100%;}\", \"span.jsx-4264724627:last-child{-webkit-flex:1 auto;-ms-flex:1 auto;flex:1 auto;margin:8px;}\"]));\n}\n\nSearch.propTypes = {\n  value: PropTypes.string.isRequired,\n  onChange: PropTypes.func.isRequired\n};\n\nfunction Item(_ref2) {\n  var name = _ref2.name,\n      path = _ref2.path,\n      img = _ref2.img;\n  return /*#__PURE__*/React.createElement(\"a\", {\n    href: path,\n    className: _JSXStyle.dynamic([[\"3670725638\", [theme.primary050]]])\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: img,\n    alt: \"app logo\",\n    className: _JSXStyle.dynamic([[\"3670725638\", [theme.primary050]]])\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: _JSXStyle.dynamic([[\"3670725638\", [theme.primary050]]])\n  }, name), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"3670725638\",\n    dynamic: [theme.primary050]\n  }, [\"a.__jsx-style-dynamic-selector{display:inline-block;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;width:96px;margin:8px;padding:8px;border-radius:12px;-webkit-text-decoration:none;text-decoration:none;cursor:pointer;}\", \"a.__jsx-style-dynamic-selector:hover,a.__jsx-style-dynamic-selector:focus{background-color:\".concat(theme.primary050, \";cursor:pointer;}\"), \"a.__jsx-style-dynamic-selector:hover>div.__jsx-style-dynamic-selector{font-weight:500;cursor:pointer;}\", \"img.__jsx-style-dynamic-selector{width:48px;height:48px;cursor:pointer;}\", \"div.__jsx-style-dynamic-selector{margin-top:14px;color:rgba(0,0,0,0.87);font-size:12px;-webkit-letter-spacing:0.01em;-moz-letter-spacing:0.01em;-ms-letter-spacing:0.01em;letter-spacing:0.01em;line-height:14px;text-align:center;cursor:pointer;}\"]));\n}\n\nItem.propTypes = {\n  img: PropTypes.string,\n  name: PropTypes.string,\n  path: PropTypes.string\n};\n\nfunction List(_ref3) {\n  var apps = _ref3.apps,\n      filter = _ref3.filter;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": \"headerbar-apps-menu-list\",\n    className: \"jsx-2076871745\"\n  }, apps.filter(function (_ref4) {\n    var displayName = _ref4.displayName,\n        name = _ref4.name;\n    var appName = displayName || name;\n    var formattedAppName = appName.toLowerCase();\n    var formattedFilter = escapeRegExpCharacters(filter).toLowerCase();\n    return filter.length > 0 ? formattedAppName.match(formattedFilter) : true;\n  }).map(function (_ref5, idx) {\n    var displayName = _ref5.displayName,\n        name = _ref5.name,\n        defaultAction = _ref5.defaultAction,\n        icon = _ref5.icon;\n    return /*#__PURE__*/React.createElement(Item, {\n      key: \"app-\".concat(name, \"-\").concat(idx),\n      name: displayName || name,\n      path: defaultAction,\n      img: icon\n    });\n  }), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"2076871745\"\n  }, [\"div.jsx-2076871745{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-align-content:flex-start;-ms-flex-line-pack:start;align-content:flex-start;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;width:30vw;min-width:300px;max-width:560px;min-height:200px;max-height:465px;margin:0 8px 8px 8px;overflow:auto;overflow-x:hidden;}\"]));\n}\n\nList.propTypes = {\n  apps: PropTypes.array,\n  filter: PropTypes.string\n};\n\nvar AppMenu = function AppMenu(_ref6) {\n  var apps = _ref6.apps,\n      filter = _ref6.filter,\n      onFilterChange = _ref6.onFilterChange;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": \"headerbar-apps-menu\",\n    className: \"jsx-3879001227\"\n  }, /*#__PURE__*/React.createElement(Card, null, /*#__PURE__*/React.createElement(Search, {\n    value: filter,\n    onChange: onFilterChange\n  }), /*#__PURE__*/React.createElement(List, {\n    apps: apps,\n    filter: filter\n  })), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"3879001227\"\n  }, [\"div.jsx-3879001227{z-index:10000;position:absolute;top:28px;right:-6px;border-top:4px solid transparent;}\"]));\n};\n\nAppMenu.propTypes = {\n  apps: PropTypes.array.isRequired,\n  onFilterChange: PropTypes.func.isRequired,\n  filter: PropTypes.string\n};\n\nvar Apps = function Apps(_ref7) {\n  var apps = _ref7.apps;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      show = _useState2[0],\n      setShow = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      filter = _useState4[0],\n      setFilter = _useState4[1];\n\n  var handleVisibilityToggle = useCallback(function () {\n    return setShow(!show);\n  }, [show]);\n  var handleFilterChange = useCallback(function (_ref8) {\n    var value = _ref8.value;\n    return setFilter(value);\n  }, []);\n  var containerEl = useRef(null);\n  var onDocClick = useCallback(function (evt) {\n    if (containerEl.current && !containerEl.current.contains(evt.target)) {\n      setShow(false);\n    }\n  }, []);\n  useEffect(function () {\n    document.addEventListener('click', onDocClick);\n    return function () {\n      return document.removeEventListener('click', onDocClick);\n    };\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    ref: containerEl,\n    \"data-test\": \"headerbar-apps\",\n    className: \"jsx-515098251\"\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleVisibilityToggle,\n    \"data-test\": \"headerbar-apps-icon\",\n    className: \"jsx-515098251\"\n  }, /*#__PURE__*/React.createElement(IconApps24, {\n    color: colors.white\n  })), show ? /*#__PURE__*/React.createElement(AppMenu, {\n    apps: apps,\n    filter: filter,\n    onFilterChange: handleFilterChange\n  }) : null, /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"515098251\"\n  }, [\"button.jsx-515098251{display:block;background:transparent;padding:0;border:0;cursor:pointer;}\", \"button.jsx-515098251:focus{outline:1px dotted white;}\", \"div.jsx-515098251{position:relative;width:24px;height:30px;margin:8px 0 0 0;}\"]));\n};\n\nApps.propTypes = {\n  apps: PropTypes.array.isRequired\n};\nexport default Apps;","map":{"version":3,"names":["_JSXStyle","Card","InputField","useConfig","colors","theme","IconApps24","IconSettings24","PropTypes","React","useState","useEffect","useCallback","useRef","joinPath","i18n","escapeRegExpCharacters","text","replace","Search","_ref","value","onChange","baseUrl","createElement","className","name","placeholder","t","initialFocus","href","color","grey700","id","propTypes","string","isRequired","func","Item","_ref2","path","img","dynamic","primary050","src","alt","concat","List","_ref3","apps","filter","_ref4","displayName","appName","formattedAppName","toLowerCase","formattedFilter","length","match","map","_ref5","idx","defaultAction","icon","key","array","AppMenu","_ref6","onFilterChange","Apps","_ref7","show","setShow","setFilter","handleVisibilityToggle","handleFilterChange","_ref8","containerEl","onDocClick","evt","current","contains","target","document","addEventListener","removeEventListener","ref","onClick","white"],"sources":["/home/jake/SRC/visualization-navigator-ts/node_modules/@dhis2-ui/header-bar/build/es/apps.js"],"sourcesContent":["import _JSXStyle from \"styled-jsx/style\";\nimport { Card } from '@dhis2-ui/card';\nimport { InputField } from '@dhis2-ui/input';\nimport { useConfig } from '@dhis2/app-runtime';\nimport { colors, theme } from '@dhis2/ui-constants';\nimport { IconApps24, IconSettings24 } from '@dhis2/ui-icons';\nimport PropTypes from 'prop-types';\nimport React, { useState, useEffect, useCallback, useRef } from 'react';\nimport { joinPath } from './join-path.js';\nimport i18n from './locales/index.js';\n/**\n * Copied from here:\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions#Escaping\n */\n\nfunction escapeRegExpCharacters(text) {\n  return text.replace(/[/.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n}\n\nfunction Search(_ref) {\n  let {\n    value,\n    onChange\n  } = _ref;\n  const {\n    baseUrl\n  } = useConfig();\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"jsx-4264724627\"\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"jsx-4264724627\"\n  }, /*#__PURE__*/React.createElement(InputField, {\n    value: value,\n    name: \"filter\",\n    placeholder: i18n.t('Search apps'),\n    onChange: onChange,\n    initialFocus: true\n  })), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"jsx-4264724627\"\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: joinPath(baseUrl, 'dhis-web-menu-management'),\n    className: \"jsx-4264724627\"\n  }, /*#__PURE__*/React.createElement(IconSettings24, {\n    color: colors.grey700\n  }))), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"4264724627\"\n  }, [\"div.jsx-4264724627{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-flex-wrap:nowrap;-ms-flex-wrap:nowrap;flex-wrap:nowrap;height:52px;margin:8px;}\", \"span.jsx-4264724627{-webkit-flex:1 100%;-ms-flex:1 100%;flex:1 100%;}\", \"span.jsx-4264724627:last-child{-webkit-flex:1 auto;-ms-flex:1 auto;flex:1 auto;margin:8px;}\"]));\n}\n\nSearch.propTypes = {\n  value: PropTypes.string.isRequired,\n  onChange: PropTypes.func.isRequired\n};\n\nfunction Item(_ref2) {\n  let {\n    name,\n    path,\n    img\n  } = _ref2;\n  return /*#__PURE__*/React.createElement(\"a\", {\n    href: path,\n    className: _JSXStyle.dynamic([[\"3670725638\", [theme.primary050]]])\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: img,\n    alt: \"app logo\",\n    className: _JSXStyle.dynamic([[\"3670725638\", [theme.primary050]]])\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: _JSXStyle.dynamic([[\"3670725638\", [theme.primary050]]])\n  }, name), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"3670725638\",\n    dynamic: [theme.primary050]\n  }, [\"a.__jsx-style-dynamic-selector{display:inline-block;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;width:96px;margin:8px;padding:8px;border-radius:12px;-webkit-text-decoration:none;text-decoration:none;cursor:pointer;}\", \"a.__jsx-style-dynamic-selector:hover,a.__jsx-style-dynamic-selector:focus{background-color:\".concat(theme.primary050, \";cursor:pointer;}\"), \"a.__jsx-style-dynamic-selector:hover>div.__jsx-style-dynamic-selector{font-weight:500;cursor:pointer;}\", \"img.__jsx-style-dynamic-selector{width:48px;height:48px;cursor:pointer;}\", \"div.__jsx-style-dynamic-selector{margin-top:14px;color:rgba(0,0,0,0.87);font-size:12px;-webkit-letter-spacing:0.01em;-moz-letter-spacing:0.01em;-ms-letter-spacing:0.01em;letter-spacing:0.01em;line-height:14px;text-align:center;cursor:pointer;}\"]));\n}\n\nItem.propTypes = {\n  img: PropTypes.string,\n  name: PropTypes.string,\n  path: PropTypes.string\n};\n\nfunction List(_ref3) {\n  let {\n    apps,\n    filter\n  } = _ref3;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": \"headerbar-apps-menu-list\",\n    className: \"jsx-2076871745\"\n  }, apps.filter(_ref4 => {\n    let {\n      displayName,\n      name\n    } = _ref4;\n    const appName = displayName || name;\n    const formattedAppName = appName.toLowerCase();\n    const formattedFilter = escapeRegExpCharacters(filter).toLowerCase();\n    return filter.length > 0 ? formattedAppName.match(formattedFilter) : true;\n  }).map((_ref5, idx) => {\n    let {\n      displayName,\n      name,\n      defaultAction,\n      icon\n    } = _ref5;\n    return /*#__PURE__*/React.createElement(Item, {\n      key: \"app-\".concat(name, \"-\").concat(idx),\n      name: displayName || name,\n      path: defaultAction,\n      img: icon\n    });\n  }), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"2076871745\"\n  }, [\"div.jsx-2076871745{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-align-content:flex-start;-ms-flex-line-pack:start;align-content:flex-start;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;width:30vw;min-width:300px;max-width:560px;min-height:200px;max-height:465px;margin:0 8px 8px 8px;overflow:auto;overflow-x:hidden;}\"]));\n}\n\nList.propTypes = {\n  apps: PropTypes.array,\n  filter: PropTypes.string\n};\n\nconst AppMenu = _ref6 => {\n  let {\n    apps,\n    filter,\n    onFilterChange\n  } = _ref6;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": \"headerbar-apps-menu\",\n    className: \"jsx-3879001227\"\n  }, /*#__PURE__*/React.createElement(Card, null, /*#__PURE__*/React.createElement(Search, {\n    value: filter,\n    onChange: onFilterChange\n  }), /*#__PURE__*/React.createElement(List, {\n    apps: apps,\n    filter: filter\n  })), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"3879001227\"\n  }, [\"div.jsx-3879001227{z-index:10000;position:absolute;top:28px;right:-6px;border-top:4px solid transparent;}\"]));\n};\n\nAppMenu.propTypes = {\n  apps: PropTypes.array.isRequired,\n  onFilterChange: PropTypes.func.isRequired,\n  filter: PropTypes.string\n};\n\nconst Apps = _ref7 => {\n  let {\n    apps\n  } = _ref7;\n  const [show, setShow] = useState(false);\n  const [filter, setFilter] = useState('');\n  const handleVisibilityToggle = useCallback(() => setShow(!show), [show]);\n  const handleFilterChange = useCallback(_ref8 => {\n    let {\n      value\n    } = _ref8;\n    return setFilter(value);\n  }, []);\n  const containerEl = useRef(null);\n  const onDocClick = useCallback(evt => {\n    if (containerEl.current && !containerEl.current.contains(evt.target)) {\n      setShow(false);\n    }\n  }, []);\n  useEffect(() => {\n    document.addEventListener('click', onDocClick);\n    return () => document.removeEventListener('click', onDocClick);\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    ref: containerEl,\n    \"data-test\": \"headerbar-apps\",\n    className: \"jsx-515098251\"\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleVisibilityToggle,\n    \"data-test\": \"headerbar-apps-icon\",\n    className: \"jsx-515098251\"\n  }, /*#__PURE__*/React.createElement(IconApps24, {\n    color: colors.white\n  })), show ? /*#__PURE__*/React.createElement(AppMenu, {\n    apps: apps,\n    filter: filter,\n    onFilterChange: handleFilterChange\n  }) : null, /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"515098251\"\n  }, [\"button.jsx-515098251{display:block;background:transparent;padding:0;border:0;cursor:pointer;}\", \"button.jsx-515098251:focus{outline:1px dotted white;}\", \"div.jsx-515098251{position:relative;width:24px;height:30px;margin:8px 0 0 0;}\"]));\n};\n\nApps.propTypes = {\n  apps: PropTypes.array.isRequired\n};\nexport default Apps;"],"mappings":"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"},"metadata":{},"sourceType":"module"}