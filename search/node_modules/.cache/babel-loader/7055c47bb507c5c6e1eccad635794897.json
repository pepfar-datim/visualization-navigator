{"ast":null,"code":"import ResizeObserver from 'resize-observer-polyfill';\n\nconst attachResizeObservers = _ref => {\n  let {\n    state: {\n      elements\n    },\n    options,\n    instance: {\n      update\n    }\n  } = _ref;\n  const observers = Object.keys(options).reduce((acc, elementKey) => {\n    if (options[elementKey]) {\n      const observer = new ResizeObserver(update);\n      observer.observe(elements[elementKey]);\n      acc.push(observer);\n    }\n\n    return acc;\n  }, []);\n  return () => {\n    observers.forEach(observer => {\n      observer.disconnect();\n    });\n  };\n};\n\nexport const getBaseModifiers = _ref2 => {\n  let {\n    observePopperResize,\n    observeReferenceResize\n  } = _ref2;\n  return [{\n    name: 'preventOverflow',\n    options: {\n      altAxis: true,\n      rootBoundary: 'document',\n      boundary: document.body\n    }\n  }, {\n    name: 'flip',\n    options: {\n      rootBoundary: 'document',\n      boundary: document.body\n    }\n  }, {\n    name: 'resizeObserver',\n    enabled: true,\n    phase: 'write',\n    fn: () => {},\n    effect: attachResizeObservers,\n    options: {\n      popper: observePopperResize,\n      reference: observeReferenceResize\n    }\n  }];\n};\nexport const deduplicateModifiers = (modifiers, resizeObservers) => {\n  // Deduplicate modifiers from props and baseModifiers,\n  // when duplicates are encountered (by name), use the\n  // modifier from props so each Popper can be fully custom\n  return getBaseModifiers(resizeObservers).filter(_ref3 => {\n    let {\n      name\n    } = _ref3;\n    return !modifiers.some(m => m.name === name);\n  }).concat(modifiers);\n};\nexport const resizeObserver = {\n  name: 'resizeObserver',\n  enabled: true,\n  phase: 'write',\n  fn: () => {},\n  effect: _ref4 => {\n    let {\n      state: {\n        elements\n      },\n      options,\n      instance: {\n        update\n      }\n    } = _ref4;\n    const observers = Object.keys(options).reduce((acc, elementKey) => {\n      if (options[elementKey]) {\n        const observer = new ResizeObserver(update);\n        observer.observe(elements[elementKey]);\n        acc.push(observer);\n      }\n\n      return acc;\n    }, []);\n    return () => {\n      observers.forEach(observer => {\n        observer.disconnect();\n      });\n    };\n  }\n};","map":{"version":3,"names":["ResizeObserver","attachResizeObservers","_ref","state","elements","options","instance","update","observers","Object","keys","reduce","acc","elementKey","observer","observe","push","forEach","disconnect","getBaseModifiers","_ref2","observePopperResize","observeReferenceResize","name","altAxis","rootBoundary","boundary","document","body","enabled","phase","fn","effect","popper","reference","deduplicateModifiers","modifiers","resizeObservers","filter","_ref3","some","m","concat","resizeObserver","_ref4"],"sources":["/home/jake/SRC/visualization-navigator-ts/node_modules/@dhis2-ui/header-bar/node_modules/@dhis2-ui/menu/node_modules/@dhis2-ui/popper/build/es/modifiers.js"],"sourcesContent":["import ResizeObserver from 'resize-observer-polyfill';\n\nconst attachResizeObservers = _ref => {\n  let {\n    state: {\n      elements\n    },\n    options,\n    instance: {\n      update\n    }\n  } = _ref;\n  const observers = Object.keys(options).reduce((acc, elementKey) => {\n    if (options[elementKey]) {\n      const observer = new ResizeObserver(update);\n      observer.observe(elements[elementKey]);\n      acc.push(observer);\n    }\n\n    return acc;\n  }, []);\n  return () => {\n    observers.forEach(observer => {\n      observer.disconnect();\n    });\n  };\n};\n\nexport const getBaseModifiers = _ref2 => {\n  let {\n    observePopperResize,\n    observeReferenceResize\n  } = _ref2;\n  return [{\n    name: 'preventOverflow',\n    options: {\n      altAxis: true,\n      rootBoundary: 'document',\n      boundary: document.body\n    }\n  }, {\n    name: 'flip',\n    options: {\n      rootBoundary: 'document',\n      boundary: document.body\n    }\n  }, {\n    name: 'resizeObserver',\n    enabled: true,\n    phase: 'write',\n    fn: () => {},\n    effect: attachResizeObservers,\n    options: {\n      popper: observePopperResize,\n      reference: observeReferenceResize\n    }\n  }];\n};\nexport const deduplicateModifiers = (modifiers, resizeObservers) => {\n  // Deduplicate modifiers from props and baseModifiers,\n  // when duplicates are encountered (by name), use the\n  // modifier from props so each Popper can be fully custom\n  return getBaseModifiers(resizeObservers).filter(_ref3 => {\n    let {\n      name\n    } = _ref3;\n    return !modifiers.some(m => m.name === name);\n  }).concat(modifiers);\n};\nexport const resizeObserver = {\n  name: 'resizeObserver',\n  enabled: true,\n  phase: 'write',\n  fn: () => {},\n  effect: _ref4 => {\n    let {\n      state: {\n        elements\n      },\n      options,\n      instance: {\n        update\n      }\n    } = _ref4;\n    const observers = Object.keys(options).reduce((acc, elementKey) => {\n      if (options[elementKey]) {\n        const observer = new ResizeObserver(update);\n        observer.observe(elements[elementKey]);\n        acc.push(observer);\n      }\n\n      return acc;\n    }, []);\n    return () => {\n      observers.forEach(observer => {\n        observer.disconnect();\n      });\n    };\n  }\n};"],"mappings":"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"},"metadata":{},"sourceType":"module"}