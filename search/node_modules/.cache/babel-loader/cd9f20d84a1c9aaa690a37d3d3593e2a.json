{"ast":null,"code":"import{FilterOperator,FilterProperty}from\"./searchFilters.type\";import{defaultFilters as d}from\"../const/defaultFilters.const\";function getFilterValue(filterProperty,operator,searchFilters){var propertyMatcher=function propertyMatcher(f){return f.filterProperty===filterProperty&&f.operator===operator;};if(!searchFilters.some(propertyMatcher))return null;else return searchFilters.filter(propertyMatcher)[0].value;}export function filtersToUrl(searchFilters){var favoriteName=getFilterValue(FilterProperty.name,FilterOperator.contains,searchFilters),user=getFilterValue(FilterProperty.owner,FilterOperator.contains,searchFilters),minViewCount=getFilterValue(FilterProperty.views,FilterOperator['>='],searchFilters),maxViewCount=getFilterValue(FilterProperty.views,FilterOperator['<='],searchFilters),lastViewedMinDate=getFilterValue(FilterProperty.lastViewed,FilterOperator.after,searchFilters),lastViewedMaxDate=getFilterValue(FilterProperty.lastViewed,FilterOperator.before,searchFilters),limitViewsMinDate=getFilterValue(FilterProperty.viewsMinDate,FilterOperator.after,searchFilters),limitViewsMaxDate=getFilterValue(FilterProperty.viewsMaxDate,FilterOperator.before,searchFilters),visualizationType=getFilterValue(FilterProperty.type,FilterOperator.is,searchFilters);return\"uid:_,favoriteName:\".concat(favoriteName||'_',\",user:\").concat(user||'_',\",visualizationType:\").concat(visualizationType||'_',\",includeNeverViewed:1,minViewCount:\").concat(minViewCount||d.minViewCount,\",maxViewCount:\").concat(maxViewCount||d.maxViewCount,\",lastViewedMinDate:\").concat(lastViewedMinDate||d.lastViewedMinDate,\",lastViewedMaxDate:\").concat(lastViewedMaxDate||d.lastViewedMaxDate,\",limitViewsMinDate:\").concat(limitViewsMinDate||d.limitViewsMinDate,\",limitViewsMaxDate:\").concat(limitViewsMaxDate||d.limitViewsMaxDate);}","map":{"version":3,"names":["FilterOperator","FilterProperty","defaultFilters","d","getFilterValue","filterProperty","operator","searchFilters","propertyMatcher","f","some","filter","value","filtersToUrl","favoriteName","name","contains","user","owner","minViewCount","views","maxViewCount","lastViewedMinDate","lastViewed","after","lastViewedMaxDate","before","limitViewsMinDate","viewsMinDate","limitViewsMaxDate","viewsMaxDate","visualizationType","type","is"],"sources":["/home/jake/SRC/visualization-navigator-ts/src/modules/searchFilters/types/filtersToUrl.service.ts"],"sourcesContent":["import {FilterOperator, FilterProperty, SearchFilter} from \"./searchFilters.type\";\nimport {defaultFilters as d} from \"../const/defaultFilters.const\";\n\nfunction getFilterValue(filterProperty:FilterProperty, operator: FilterOperator, searchFilters:SearchFilter[]):string|null{\n    const propertyMatcher = (f:SearchFilter)=>f.filterProperty===filterProperty&&f.operator===operator\n    if (!searchFilters.some(propertyMatcher)) return null;\n    else return searchFilters.filter(propertyMatcher)[0].value;\n}\n\nexport function filtersToUrl(searchFilters:SearchFilter[]):string{\n    let favoriteName = getFilterValue(FilterProperty.name, FilterOperator.contains, searchFilters),\n        user = getFilterValue(FilterProperty.owner, FilterOperator.contains, searchFilters),\n        minViewCount = getFilterValue(FilterProperty.views, FilterOperator['>='], searchFilters),\n        maxViewCount = getFilterValue(FilterProperty.views, FilterOperator['<='], searchFilters),\n        lastViewedMinDate = getFilterValue(FilterProperty.lastViewed, FilterOperator.after, searchFilters),\n        lastViewedMaxDate = getFilterValue(FilterProperty.lastViewed, FilterOperator.before, searchFilters),\n        limitViewsMinDate = getFilterValue(FilterProperty.viewsMinDate, FilterOperator.after, searchFilters),\n        limitViewsMaxDate = getFilterValue(FilterProperty.viewsMaxDate, FilterOperator.before, searchFilters),\n        visualizationType = getFilterValue(FilterProperty.type, FilterOperator.is, searchFilters)\n    ;\n    return `uid:_,\\\nfavoriteName:${favoriteName||'_'},\\\nuser:${user||'_'},\\\nvisualizationType:${visualizationType||'_'},\\\nincludeNeverViewed:1,\\\nminViewCount:${minViewCount||d.minViewCount},\\\nmaxViewCount:${maxViewCount||d.maxViewCount},\\\nlastViewedMinDate:${lastViewedMinDate||d.lastViewedMinDate},\\\nlastViewedMaxDate:${lastViewedMaxDate||d.lastViewedMaxDate},\\\nlimitViewsMinDate:${limitViewsMinDate||d.limitViewsMinDate},\\\nlimitViewsMaxDate:${limitViewsMaxDate||d.limitViewsMaxDate}`\n}"],"mappings":"AAAA,OAAQA,cAAR,CAAwBC,cAAxB,KAA2D,sBAA3D,CACA,OAAQC,cAAc,GAAIC,CAAAA,CAA1B,KAAkC,+BAAlC,CAEA,QAASC,CAAAA,cAAT,CAAwBC,cAAxB,CAAuDC,QAAvD,CAAiFC,aAAjF,CAA0H,CACtH,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACC,CAAD,QAAkBA,CAAAA,CAAC,CAACJ,cAAF,GAAmBA,cAAnB,EAAmCI,CAAC,CAACH,QAAF,GAAaA,QAAlE,EAAxB,CACA,GAAI,CAACC,aAAa,CAACG,IAAd,CAAmBF,eAAnB,CAAL,CAA0C,MAAO,KAAP,CAA1C,IACK,OAAOD,CAAAA,aAAa,CAACI,MAAd,CAAqBH,eAArB,EAAsC,CAAtC,EAAyCI,KAAhD,CACR,CAED,MAAO,SAASC,CAAAA,YAAT,CAAsBN,aAAtB,CAA0D,CAC7D,GAAIO,CAAAA,YAAY,CAAGV,cAAc,CAACH,cAAc,CAACc,IAAhB,CAAsBf,cAAc,CAACgB,QAArC,CAA+CT,aAA/C,CAAjC,CACIU,IAAI,CAAGb,cAAc,CAACH,cAAc,CAACiB,KAAhB,CAAuBlB,cAAc,CAACgB,QAAtC,CAAgDT,aAAhD,CADzB,CAEIY,YAAY,CAAGf,cAAc,CAACH,cAAc,CAACmB,KAAhB,CAAuBpB,cAAc,CAAC,IAAD,CAArC,CAA6CO,aAA7C,CAFjC,CAGIc,YAAY,CAAGjB,cAAc,CAACH,cAAc,CAACmB,KAAhB,CAAuBpB,cAAc,CAAC,IAAD,CAArC,CAA6CO,aAA7C,CAHjC,CAIIe,iBAAiB,CAAGlB,cAAc,CAACH,cAAc,CAACsB,UAAhB,CAA4BvB,cAAc,CAACwB,KAA3C,CAAkDjB,aAAlD,CAJtC,CAKIkB,iBAAiB,CAAGrB,cAAc,CAACH,cAAc,CAACsB,UAAhB,CAA4BvB,cAAc,CAAC0B,MAA3C,CAAmDnB,aAAnD,CALtC,CAMIoB,iBAAiB,CAAGvB,cAAc,CAACH,cAAc,CAAC2B,YAAhB,CAA8B5B,cAAc,CAACwB,KAA7C,CAAoDjB,aAApD,CANtC,CAOIsB,iBAAiB,CAAGzB,cAAc,CAACH,cAAc,CAAC6B,YAAhB,CAA8B9B,cAAc,CAAC0B,MAA7C,CAAqDnB,aAArD,CAPtC,CAQIwB,iBAAiB,CAAG3B,cAAc,CAACH,cAAc,CAAC+B,IAAhB,CAAsBhC,cAAc,CAACiC,EAArC,CAAyC1B,aAAzC,CARtC,CAUA,mCACWO,YAAY,EAAE,GADzB,kBAEGG,IAAI,EAAE,GAFT,+BAGgBc,iBAAiB,EAAE,GAHnC,+CAKWZ,YAAY,EAAEhB,CAAC,CAACgB,YAL3B,0BAMWE,YAAY,EAAElB,CAAC,CAACkB,YAN3B,+BAOgBC,iBAAiB,EAAEnB,CAAC,CAACmB,iBAPrC,+BAQgBG,iBAAiB,EAAEtB,CAAC,CAACsB,iBARrC,+BASgBE,iBAAiB,EAAExB,CAAC,CAACwB,iBATrC,+BAUgBE,iBAAiB,EAAE1B,CAAC,CAAC0B,iBAVrC,EAWH"},"metadata":{},"sourceType":"module"}