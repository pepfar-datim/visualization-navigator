"use strict";

var _fetchData = require("./RestAPILink/fetchData");

var _ = require(".");

jest.mock('./RestAPILink/fetchData', () => ({
  fetchData: jest.fn(async () => null)
}));
describe('RestAPILink', () => {
  it('should call fetch with the expected URL', async () => {
    const link = new _.RestAPILink({
      baseUrl: 'http://url',
      apiVersion: 42
    });
    await link.executeResourceQuery('read', {
      resource: 'something'
    }, {});
    expect(_fetchData.fetchData).toHaveBeenCalledWith('http://url/api/42/something', {
      method: 'GET'
    });
  });
});