{"ast":null,"code":"import React from\"react\";import{allFilters,getFilterOperators}from\"../types/searchFilters.type\";import{SearchFilterComponent}from\"./searchFilter.component\";import{Button}from\"@mui/material\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var _changeFilter=function changeFilter(i,searchFilter,searchFilters,updateFilters){var filterProperty=searchFilter.filterProperty,operator=searchFilter.operator,value=searchFilter.value;if(!filterProperty||!allFilters.includes(filterProperty))throw new Error(\"Cannot change filter type\");if(!operator)operator=getFilterOperators(filterProperty)[0];searchFilters[i]={filterProperty:filterProperty,value:value,operator:operator};updateFilters(searchFilters);};var addFilter=function addFilter(searchFilters,updateFilters){searchFilters.push({filterProperty:null,operator:null,value:null});updateFilters(searchFilters);};var _deleteFilter=function deleteFilter(index,searchFilters,updateFilters){updateFilters(searchFilters.filter(function(f,i){return i!==index;}));};export function SearchFilters(_ref){var searchFilters=_ref.searchFilters,updateFilters=_ref.updateFilters,triggerSearch=_ref.triggerSearch;var hasFilters=searchFilters.length>0;var width=hasFilters?560:'inherit';return/*#__PURE__*/_jsxs(\"div\",{style:{width:width},className:'searchFiltersRoot',children:[searchFilters.map(function(f,i){return/*#__PURE__*/_jsx(SearchFilterComponent,{searchFilter:f,changeFilter:function changeFilter(searchFilter){_changeFilter(i,searchFilter,searchFilters,updateFilters);},deleteFilter:function deleteFilter(){return _deleteFilter(i,searchFilters,updateFilters);},i:i},i);}),/*#__PURE__*/_jsxs(\"div\",{style:hasFilters?{float:'right',marginRight:22}:{},id:\"searchButtonsWrapper\",children:[/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return addFilter(searchFilters,updateFilters);},color:\"inherit\",\"data-testid\":\"addFilter\",children:\"Add filter\"}),/*#__PURE__*/_jsx(Button,{onClick:triggerSearch,variant:\"outlined\",\"data-testid\":\"searchButton\",children:searchFilters.length===0?'Show all':'Search'})]}),/*#__PURE__*/_jsx(\"div\",{className:\"floatclear\"})]});}","map":{"version":3,"names":["React","allFilters","getFilterOperators","SearchFilterComponent","Button","changeFilter","i","searchFilter","searchFilters","updateFilters","filterProperty","operator","value","includes","Error","addFilter","push","deleteFilter","index","filter","f","SearchFilters","triggerSearch","hasFilters","length","width","map","float","marginRight"],"sources":["/home/jake/SRC/visualization-navigator-ts/src/modules/searchFilters/components/searchFilters.component.tsx"],"sourcesContent":["import React from \"react\";\nimport {allFilters, FilterProperty, getFilterOperators, SearchFilter} from \"../types/searchFilters.type\";\nimport {UpdateFilters} from \"../../searchPage/types/methods.type\";\nimport {SearchFilterComponent} from \"./searchFilter.component\";\nimport {Button} from \"@mui/material\";\nimport {Trigger} from \"../types/methods.type\";\n\nconst changeFilter = (i:number, searchFilter:SearchFilter, searchFilters:SearchFilter[], updateFilters:UpdateFilters)=>{\n    let {filterProperty,operator,value}:SearchFilter = searchFilter;\n    if (!filterProperty||!allFilters.includes(filterProperty)) throw new Error(`Cannot change filter type`);\n    if (!operator) operator = getFilterOperators(filterProperty)[0];\n    searchFilters[i] = {filterProperty:filterProperty as FilterProperty,value, operator}\n    updateFilters(searchFilters);\n}\n\nconst addFilter = (searchFilters:SearchFilter[], updateFilters:UpdateFilters)=>{\n    searchFilters.push({filterProperty:null, operator: null, value:null});\n    updateFilters(searchFilters);\n}\n\nconst deleteFilter = (index:number, searchFilters:SearchFilter[], updateFilters:UpdateFilters)=>{\n    updateFilters(searchFilters.filter((f,i)=>i!==index))\n}\n\nexport function SearchFilters({searchFilters, updateFilters, triggerSearch}:{\n    searchFilters:SearchFilter[],\n    updateFilters:UpdateFilters,\n    triggerSearch:Trigger\n}) {\n    const hasFilters:boolean = searchFilters.length>0;\n    const width = hasFilters?560:'inherit';\n    return <div style={{width}} className={'searchFiltersRoot'}>\n        {searchFilters.map((f:SearchFilter, i:number)=><SearchFilterComponent\n            key={i}\n            searchFilter={f}\n            changeFilter={(searchFilter:SearchFilter)=>{\n                changeFilter(i,searchFilter,searchFilters,updateFilters)\n            }}\n            deleteFilter={()=>deleteFilter(i, searchFilters, updateFilters)}\n            i={i}\n        />)}\n        <div style={hasFilters?{float:'right',marginRight:22}:{}} id={`searchButtonsWrapper`}>\n            <Button onClick={()=>addFilter(searchFilters,updateFilters)} color='inherit' data-testid='addFilter'>Add filter</Button>\n            <Button onClick={triggerSearch} variant='outlined' data-testid='searchButton'>{searchFilters.length===0?'Show all':'Search'}</Button>\n        </div>\n        <div className='floatclear'/>\n    </div>;\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}