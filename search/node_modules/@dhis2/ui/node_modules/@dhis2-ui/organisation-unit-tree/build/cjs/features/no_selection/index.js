"use strict";

var _steps = require("cypress-cucumber-preprocessor/steps");

(0, _steps.Given)('a disabled, collapsed OrganisationUnitTree with two levels is rendered', () => {
  cy.visitStory('OrganisationUnitTree', 'No selection closed');
});
(0, _steps.Given)('a disabled OrganisationUnitTree with two levels is rendered with the second level is expanded', () => {
  cy.visitStory('OrganisationUnitTree', 'No selection root opened');
});
(0, _steps.When)('the root node is clicked', () => {
  cy.getOrgUnitByLabel('Org Unit 1').find('[data-test="dhis2-uiwidgets-orgunittree-node-label"]').first().trigger('click');
});
(0, _steps.Then)('the root node remains unselected', () => {
  cy.getOrgUnitByLabel('Org Unit 1').find('[data-test="dhis2-uiwidgets-orgunittree-node-label"]').first().as('rootLabel').find('.checked').should('not.exist');
  cy.get('@rootLabel').find('input').should('not.exist');
});
(0, _steps.Then)('the second level is expanded', () => {
  cy.getOrgUnitByLabel('Org Unit 1').shouldBeAnOpenNode();
});
(0, _steps.Then)('the second level is collapsed', () => {
  cy.getOrgUnitByLabel('Org Unit 1').shouldBeAClosedNode();
});