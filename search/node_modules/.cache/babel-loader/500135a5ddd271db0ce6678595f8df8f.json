{"ast":null,"code":"function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nexport class CustomDataLink {\n  constructor(customData) {\n    let {\n      failOnMiss = true,\n      loadForever = false\n    } = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _defineProperty(this, \"failOnMiss\", void 0);\n\n    _defineProperty(this, \"loadForever\", void 0);\n\n    _defineProperty(this, \"data\", void 0);\n\n    this.data = customData;\n    this.failOnMiss = failOnMiss;\n    this.loadForever = loadForever;\n  }\n\n  async executeResourceQuery(type, query, options) {\n    if (this.loadForever) {\n      return new Promise(() => undefined);\n    }\n\n    const customResource = this.data[query.resource];\n\n    if (customResource === undefined) {\n      if (this.failOnMiss) {\n        throw new Error(\"No data provided for resource type \".concat(query.resource, \"!\"));\n      }\n\n      return Promise.resolve(null);\n    }\n\n    switch (typeof customResource) {\n      case 'string':\n      case 'number':\n      case 'boolean':\n      case 'object':\n        return customResource;\n\n      case 'function':\n        {\n          const result = await customResource(type, query, options);\n\n          if (typeof result === 'undefined' && this.failOnMiss) {\n            throw new Error(\"The custom function for resource \".concat(query.resource, \" must always return a value but returned \").concat(result));\n          }\n\n          return result || null;\n        }\n    }\n  }\n\n}","map":{"version":3,"names":["_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","CustomDataLink","constructor","customData","failOnMiss","loadForever","data","executeResourceQuery","type","query","options","Promise","undefined","customResource","resource","Error","concat","resolve","result"],"sources":["/home/jake/SRC/landing-page/node_modules/@dhis2/app-runtime/node_modules/@dhis2/app-service-data/build/es/links/CustomDataLink.js"],"sourcesContent":["function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nexport class CustomDataLink {\n  constructor(customData, {\n    failOnMiss = true,\n    loadForever = false\n  } = {}) {\n    _defineProperty(this, \"failOnMiss\", void 0);\n\n    _defineProperty(this, \"loadForever\", void 0);\n\n    _defineProperty(this, \"data\", void 0);\n\n    this.data = customData;\n    this.failOnMiss = failOnMiss;\n    this.loadForever = loadForever;\n  }\n\n  async executeResourceQuery(type, query, options) {\n    if (this.loadForever) {\n      return new Promise(() => undefined);\n    }\n\n    const customResource = this.data[query.resource];\n\n    if (customResource === undefined) {\n      if (this.failOnMiss) {\n        throw new Error(\"No data provided for resource type \".concat(query.resource, \"!\"));\n      }\n\n      return Promise.resolve(null);\n    }\n\n    switch (typeof customResource) {\n      case 'string':\n      case 'number':\n      case 'boolean':\n      case 'object':\n        return customResource;\n\n      case 'function':\n        {\n          const result = await customResource(type, query, options);\n\n          if (typeof result === 'undefined' && this.failOnMiss) {\n            throw new Error(\"The custom function for resource \".concat(query.resource, \" must always return a value but returned \").concat(result));\n          }\n\n          return result || null;\n        }\n    }\n  }\n\n}"],"mappings":"AAAA,SAASA,eAAT,CAAyBC,GAAzB,EAA8BC,GAA9B,EAAmCC,KAAnC,EAA0C;EAAE,IAAID,GAAG,IAAID,GAAX,EAAgB;IAAEG,MAAM,CAACC,cAAP,CAAsBJ,GAAtB,EAA2BC,GAA3B,EAAgC;MAAEC,KAAK,EAAEA,KAAT;MAAgBG,UAAU,EAAE,IAA5B;MAAkCC,YAAY,EAAE,IAAhD;MAAsDC,QAAQ,EAAE;IAAhE,CAAhC;EAA0G,CAA5H,MAAkI;IAAEP,GAAG,CAACC,GAAD,CAAH,GAAWC,KAAX;EAAmB;;EAAC,OAAOF,GAAP;AAAa;;AAEjN,OAAO,MAAMQ,cAAN,CAAqB;EAC1BC,WAAW,CAACC,UAAD,EAGH;IAAA,IAHgB;MACtBC,UAAU,GAAG,IADS;MAEtBC,WAAW,GAAG;IAFQ,CAGhB,uEAAJ,EAAI;;IACNb,eAAe,CAAC,IAAD,EAAO,YAAP,EAAqB,KAAK,CAA1B,CAAf;;IAEAA,eAAe,CAAC,IAAD,EAAO,aAAP,EAAsB,KAAK,CAA3B,CAAf;;IAEAA,eAAe,CAAC,IAAD,EAAO,MAAP,EAAe,KAAK,CAApB,CAAf;;IAEA,KAAKc,IAAL,GAAYH,UAAZ;IACA,KAAKC,UAAL,GAAkBA,UAAlB;IACA,KAAKC,WAAL,GAAmBA,WAAnB;EACD;;EAEyB,MAApBE,oBAAoB,CAACC,IAAD,EAAOC,KAAP,EAAcC,OAAd,EAAuB;IAC/C,IAAI,KAAKL,WAAT,EAAsB;MACpB,OAAO,IAAIM,OAAJ,CAAY,MAAMC,SAAlB,CAAP;IACD;;IAED,MAAMC,cAAc,GAAG,KAAKP,IAAL,CAAUG,KAAK,CAACK,QAAhB,CAAvB;;IAEA,IAAID,cAAc,KAAKD,SAAvB,EAAkC;MAChC,IAAI,KAAKR,UAAT,EAAqB;QACnB,MAAM,IAAIW,KAAJ,CAAU,sCAAsCC,MAAtC,CAA6CP,KAAK,CAACK,QAAnD,EAA6D,GAA7D,CAAV,CAAN;MACD;;MAED,OAAOH,OAAO,CAACM,OAAR,CAAgB,IAAhB,CAAP;IACD;;IAED,QAAQ,OAAOJ,cAAf;MACE,KAAK,QAAL;MACA,KAAK,QAAL;MACA,KAAK,SAAL;MACA,KAAK,QAAL;QACE,OAAOA,cAAP;;MAEF,KAAK,UAAL;QACE;UACE,MAAMK,MAAM,GAAG,MAAML,cAAc,CAACL,IAAD,EAAOC,KAAP,EAAcC,OAAd,CAAnC;;UAEA,IAAI,OAAOQ,MAAP,KAAkB,WAAlB,IAAiC,KAAKd,UAA1C,EAAsD;YACpD,MAAM,IAAIW,KAAJ,CAAU,oCAAoCC,MAApC,CAA2CP,KAAK,CAACK,QAAjD,EAA2D,2CAA3D,EAAwGE,MAAxG,CAA+GE,MAA/G,CAAV,CAAN;UACD;;UAED,OAAOA,MAAM,IAAI,IAAjB;QACD;IAhBL;EAkBD;;AAjDyB"},"metadata":{},"sourceType":"module"}