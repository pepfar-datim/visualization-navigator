{"ast":null,"code":"import _slicedToArray from \"/home/jake/SRC/landing-page/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport { useCallback } from 'react';\nimport { useDataEngine } from './useDataEngine';\nimport { useQueryExecutor } from './useQueryExecutor';\nimport { useStaticInput } from './useStaticInput';\nvar empty = {};\nexport var useDataMutation = function useDataMutation(mutation) {\n  var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n      onComplete = _ref.onComplete,\n      onError = _ref.onError,\n      _ref$variables = _ref.variables,\n      variables = _ref$variables === void 0 ? empty : _ref$variables,\n      _ref$lazy = _ref.lazy,\n      lazy = _ref$lazy === void 0 ? true : _ref$lazy;\n\n  var engine = useDataEngine();\n\n  var _useStaticInput = useStaticInput(mutation, {\n    warn: true,\n    name: 'mutation'\n  }),\n      _useStaticInput2 = _slicedToArray(_useStaticInput, 1),\n      theMutation = _useStaticInput2[0];\n\n  var execute = useCallback(function (options) {\n    return engine.mutate(theMutation, options);\n  }, [engine, theMutation]);\n\n  var _useQueryExecutor = useQueryExecutor({\n    execute: execute,\n    variables: variables,\n    singular: false,\n    immediate: !lazy,\n    onComplete: onComplete,\n    onError: onError\n  }),\n      mutate = _useQueryExecutor.refetch,\n      called = _useQueryExecutor.called,\n      loading = _useQueryExecutor.loading,\n      error = _useQueryExecutor.error,\n      data = _useQueryExecutor.data;\n\n  return [mutate, {\n    engine: engine,\n    called: called,\n    loading: loading,\n    error: error,\n    data: data\n  }];\n};","map":{"version":3,"names":["useCallback","useDataEngine","useQueryExecutor","useStaticInput","empty","useDataMutation","mutation","onComplete","onError","variables","lazy","engine","warn","name","theMutation","execute","options","mutate","singular","immediate","refetch","called","loading","error","data"],"sources":["/home/jake/SRC/landing-page/node_modules/@dhis2/app-runtime/node_modules/@dhis2/app-service-data/build/es/react/hooks/useDataMutation.js"],"sourcesContent":["import { useCallback } from 'react';\nimport { useDataEngine } from './useDataEngine';\nimport { useQueryExecutor } from './useQueryExecutor';\nimport { useStaticInput } from './useStaticInput';\nconst empty = {};\nexport const useDataMutation = (mutation, {\n  onComplete,\n  onError,\n  variables = empty,\n  lazy = true\n} = {}) => {\n  const engine = useDataEngine();\n  const [theMutation] = useStaticInput(mutation, {\n    warn: true,\n    name: 'mutation'\n  });\n  const execute = useCallback(options => engine.mutate(theMutation, options), [engine, theMutation]);\n  const {\n    refetch: mutate,\n    called,\n    loading,\n    error,\n    data\n  } = useQueryExecutor({\n    execute,\n    variables,\n    singular: false,\n    immediate: !lazy,\n    onComplete,\n    onError\n  });\n  return [mutate, {\n    engine,\n    called,\n    loading,\n    error,\n    data\n  }];\n};"],"mappings":";AAAA,SAASA,WAAT,QAA4B,OAA5B;AACA,SAASC,aAAT,QAA8B,iBAA9B;AACA,SAASC,gBAAT,QAAiC,oBAAjC;AACA,SAASC,cAAT,QAA+B,kBAA/B;AACA,IAAMC,KAAK,GAAG,EAAd;AACA,OAAO,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,CAACC,QAAD,EAKpB;EAAA,+EAAP,EAAO;EAAA,IAJTC,UAIS,QAJTA,UAIS;EAAA,IAHTC,OAGS,QAHTA,OAGS;EAAA,0BAFTC,SAES;EAAA,IAFTA,SAES,+BAFGL,KAEH;EAAA,qBADTM,IACS;EAAA,IADTA,IACS,0BADF,IACE;;EACT,IAAMC,MAAM,GAAGV,aAAa,EAA5B;;EACA,sBAAsBE,cAAc,CAACG,QAAD,EAAW;IAC7CM,IAAI,EAAE,IADuC;IAE7CC,IAAI,EAAE;EAFuC,CAAX,CAApC;EAAA;EAAA,IAAOC,WAAP;;EAIA,IAAMC,OAAO,GAAGf,WAAW,CAAC,UAAAgB,OAAO;IAAA,OAAIL,MAAM,CAACM,MAAP,CAAcH,WAAd,EAA2BE,OAA3B,CAAJ;EAAA,CAAR,EAAiD,CAACL,MAAD,EAASG,WAAT,CAAjD,CAA3B;;EACA,wBAMIZ,gBAAgB,CAAC;IACnBa,OAAO,EAAPA,OADmB;IAEnBN,SAAS,EAATA,SAFmB;IAGnBS,QAAQ,EAAE,KAHS;IAInBC,SAAS,EAAE,CAACT,IAJO;IAKnBH,UAAU,EAAVA,UALmB;IAMnBC,OAAO,EAAPA;EANmB,CAAD,CANpB;EAAA,IACWS,MADX,qBACEG,OADF;EAAA,IAEEC,MAFF,qBAEEA,MAFF;EAAA,IAGEC,OAHF,qBAGEA,OAHF;EAAA,IAIEC,KAJF,qBAIEA,KAJF;EAAA,IAKEC,IALF,qBAKEA,IALF;;EAcA,OAAO,CAACP,MAAD,EAAS;IACdN,MAAM,EAANA,MADc;IAEdU,MAAM,EAANA,MAFc;IAGdC,OAAO,EAAPA,OAHc;IAIdC,KAAK,EAALA,KAJc;IAKdC,IAAI,EAAJA;EALc,CAAT,CAAP;AAOD,CAjCM"},"metadata":{},"sourceType":"module"}