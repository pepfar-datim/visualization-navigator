"use strict";

var _steps = require("cypress-cucumber-preprocessor/steps");

(0, _steps.Given)('an OrganisationUnitTree with two nodes is rendered', () => {
  cy.visitStory('OrganisationUnitTree', 'Single selection');
});
(0, _steps.Given)('no unit is selected', () => {
  cy.get('.checked').should('not.exist');
});
(0, _steps.Given)('the first unit has been selected', () => {
  cy.getOrgUnitByLabel('Org Unit 1').toggleOrgUnitNodeSelection(true, true);
});
(0, _steps.When)('the user selects the first unit', () => {
  cy.getOrgUnitByLabel('Org Unit 1').toggleOrgUnitNodeSelection(true, true);
});
(0, _steps.When)('the user selects the second unit', () => {
  cy.getOrgUnitByLabel('Org Unit 2').toggleOrgUnitNodeSelection(true, true);
});
(0, _steps.When)('the user deselects the first unit', () => {
  cy.getOrgUnitByLabel('Org Unit 1').toggleOrgUnitNodeSelection(false, true);
});
(0, _steps.Then)('the first unit is selected', () => {
  cy.getOrgUnitByLabel('Org Unit 1').shouldBeASelectedOrgUnitNode(true);
});
(0, _steps.Then)('the first unit is not selected', () => {
  cy.getOrgUnitByLabel('Org Unit 1').shouldNotBeASelectedOrgUnitNode(true);
});
(0, _steps.Then)('the second unit is selected', () => {
  cy.getOrgUnitByLabel('Org Unit 2').shouldBeASelectedOrgUnitNode(true);
});
(0, _steps.Then)('no unit is selected', () => {
  cy.get('[data-test="dhis2-uiwidgets-orgunittree-node"]').should($nodes => {
    $nodes.each((index, node) => {
      cy.wrap(Cypress.$(node)).shouldNotBeASelectedOrgUnitNode();
    });
  });
});