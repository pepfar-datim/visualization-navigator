{"ast":null,"code":"import { SqlType } from \"../types/visualization.type\";\nimport { filtersToUrl } from \"../../searchFilters/types/filtersToUrl.service\";\nimport datimApi from \"@pepfar-react-lib/datim-api\";\n\nfunction responseToModel(response) {\n  return response.listGrid.rows.map(row => ({\n    type: row[4],\n    name: row[1],\n    views: row[2],\n    lastViewed: row[3],\n    owner: string,\n    sql: SqlType\n  }));\n}\n\nexport async function searchVisualizations(searchFilters) {\n  let fullUrl = `/sqlViews/VisNavgSrch/data?var=${filtersToUrl(searchFilters)},limit:100`;\n  let response = await datimApi.getJson(fullUrl);\n  return Promise.resolve(null);\n}","map":{"version":3,"names":["SqlType","filtersToUrl","datimApi","responseToModel","response","listGrid","rows","map","row","type","name","views","lastViewed","owner","string","sql","searchVisualizations","searchFilters","fullUrl","getJson","Promise","resolve"],"sources":["/home/jake/SRC/visualization-navigator-ts/src/modules/searchPage/services/searchVisualizations.service.ts"],"sourcesContent":["import {ServerResponse, SqlType, Visualization, VisualizationType} from \"../types/visualization.type\";\nimport {SearchFilter} from \"../../searchFilters/types/searchFilters.type\";\nimport {filtersToUrl} from \"../../searchFilters/types/filtersToUrl.service\";\nimport datimApi from \"@pepfar-react-lib/datim-api\";\n\nfunction responseToModel(response:ServerResponse):Visualization[]{\n    return response.listGrid.rows.map(row=>({\n        type: row[4],\n        name: row[1],\n        views: row[2],\n        lastViewed: row[3],\n        owner: string,\n        sql: SqlType\n    }))\n}\n\nexport async function searchVisualizations(searchFilters:SearchFilter[]):Promise<Visualization>{\n    let fullUrl:string = `/sqlViews/VisNavgSrch/data?var=${filtersToUrl(searchFilters)},limit:100`\n    let response:ServerResponse = await datimApi.getJson(fullUrl);\n    return Promise.resolve(null as any as Visualization);\n}"],"mappings":"AAAA,SAAwBA,OAAxB,QAAwE,6BAAxE;AAEA,SAAQC,YAAR,QAA2B,gDAA3B;AACA,OAAOC,QAAP,MAAqB,6BAArB;;AAEA,SAASC,eAAT,CAAyBC,QAAzB,EAAiE;EAC7D,OAAOA,QAAQ,CAACC,QAAT,CAAkBC,IAAlB,CAAuBC,GAAvB,CAA2BC,GAAG,KAAG;IACpCC,IAAI,EAAED,GAAG,CAAC,CAAD,CAD2B;IAEpCE,IAAI,EAAEF,GAAG,CAAC,CAAD,CAF2B;IAGpCG,KAAK,EAAEH,GAAG,CAAC,CAAD,CAH0B;IAIpCI,UAAU,EAAEJ,GAAG,CAAC,CAAD,CAJqB;IAKpCK,KAAK,EAAEC,MAL6B;IAMpCC,GAAG,EAAEf;EAN+B,CAAH,CAA9B,CAAP;AAQH;;AAED,OAAO,eAAegB,oBAAf,CAAoCC,aAApC,EAAwF;EAC3F,IAAIC,OAAc,GAAI,kCAAiCjB,YAAY,CAACgB,aAAD,CAAgB,YAAnF;EACA,IAAIb,QAAuB,GAAG,MAAMF,QAAQ,CAACiB,OAAT,CAAiBD,OAAjB,CAApC;EACA,OAAOE,OAAO,CAACC,OAAR,CAAgB,IAAhB,CAAP;AACH"},"metadata":{},"sourceType":"module"}