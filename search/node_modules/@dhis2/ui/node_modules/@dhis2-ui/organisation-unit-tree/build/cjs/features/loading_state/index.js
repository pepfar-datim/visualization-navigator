"use strict";

var _steps = require("cypress-cucumber-preprocessor/steps");

(0, _steps.Given)('a OrganisationUnitTree with two levels is rendered', () => {
  cy.visitStory('OrganisationUnitTree', 'A0000000001 loading');
});
(0, _steps.Given)('the root level is closed', () => {
  cy.getOrgUnitByLabel('Org Unit 1').as('rootUnit').shouldBeAClosedNode();
});
(0, _steps.When)('the root level is opened', () => {
  cy.get('@rootUnit').openOrgUnitNode();
});
(0, _steps.Then)('there is a loading indicator rendered on the first child of the second level', () => {
  cy.getOrgUnitByLabel('Org Unit 2').find('[data-test="dhis2-uicore-circularloader"]').should('exist');
  cy.getOrgUnitByLabel('Org Unit 2').find('[data-test="dhis2-uiwidgets-orgunittree-node-leaves"]:empty').should('exist');
});